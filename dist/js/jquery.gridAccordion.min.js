/*!
Grid Accordion by bqworks
http://bqworks.com/grid-accordion/
*/
!function(a,b){"use strict";b.GridAccordion={modules:{},addModule:function(a,c,f){"undefined"==typeof this.modules[f]&&(this.modules[f]=[]),this.modules[f].push(a),"accordion"===f?b.extend(d.prototype,c):"panel"===f&&b.extend(e.prototype,c)}};var c=b.GridAccordion.namespace="GridAccordion",d=function(a,c){this.$accordion=b(a),this.$panelsContainer=null,this.$maskContainer=null,this.options=c,this.settings={},this.originalSettings={},this.currentIndex=-1,this.currentPage=0,this.columns=0,this.rows=0,this.totalWidth=0,this.totalHeight=0,this.totalPanelsSize=0,this.computedOpenedPanelWidth=0,this.computedOpenedPanelHeight=0,this.maxComputedOpenedPanelWidth=0,this.maxComputedOpenedPanelHeight=0,this.collapsedPanelWidth=0,this.collapsedPanelHeight=0,this.closedPanelWidth=0,this.closedPanelHeight=0,this.computedPanelDistance=0,this.panels=[],this.mouseDelayTimer=0,this.openPanelAnimation={},this.closePanelsAnimation={},this.uniqueId=(new Date).valueOf(),this.breakpoints=[],this.currentBreakpoint=-1,this.previousColumns=-1,this.previousRows=-1,this.isPageScrolling=!1,this.positionProperty="left",this.sizeProperty="width",this.autoResponsiveRatio=1,this.loadingPanels=[],this._init()};d.prototype={_init:function(){var a=this;this.settings=b.extend({},this.defaults,this.options),this.$maskContainer=b('<div class="ga-mask"></div>').appendTo(this.$accordion),this.$panelsContainer=this.$accordion.find(".ga-panels").appendTo(this.$maskContainer),0===this.$panelsContainer.length&&(this.$panelsContainer=b('<div class="ga-panels"></div>').appendTo(this.$maskContainer));var d=b.GridAccordion.modules.accordion;if("undefined"!=typeof d)for(var e in d)"undefined"!=typeof this["init"+d[e]]&&this["init"+d[e]]();if(this.originalSettings=b.extend({},this.settings),this.currentIndex=this.settings.startPanel,-1!==this.currentIndex&&this.$accordion.addClass("ga-opened"),-1!==this.settings.startPage&&(this.currentPage=this.settings.startPage),null!==this.settings.breakpoints){for(var f in this.settings.breakpoints)this.breakpoints.push({size:parseInt(f,10),properties:this.settings.breakpoints[f]});this.breakpoints=this.breakpoints.sort(function(a,b){return a.size>=b.size?1:-1})}if(this._prepareRAF(),this.update(),-1!==this.currentIndex){this.$accordion.find(".ga-panel").eq(this.currentIndex).addClass("ga-opened");var g={type:"panelOpen",index:this.currentIndex,previousIndex:-1};this.trigger(g),b.isFunction(this.settings.panelOpen)&&this.settings.panelOpen.call(this,g)}this.on("mouseenter."+c,function(){var c={type:"accordionMouseOver"};a.trigger(c),b.isFunction(a.settings.accordionMouseOver)&&a.settings.accordionMouseOver.call(a,c)}),this.on("mouseleave."+c,function(){a.settings.closePanelsOnMouseOut===!0&&a.closePanels();var c={type:"accordionMouseOut"};a.trigger(c),b.isFunction(a.settings.accordionMouseOut)&&a.settings.accordionMouseOut.call(a,c)}),this.trigger({type:"init"}),b.isFunction(this.settings.init)&&this.settings.init.call(this,{type:"init"})},update:function(){var d=this;if("horizontal"===this.settings.orientation?(this.$accordion.removeClass("ga-vertical").addClass("ga-horizontal"),this.positionProperty="left",this.sizeProperty="width"):"vertical"===this.settings.orientation&&(this.$accordion.removeClass("ga-horizontal").addClass("ga-vertical"),this.positionProperty="top",this.sizeProperty="height"),this.$panelsContainer.attr("style",""),this.settings.responsive===!0?(this.$accordion.css({width:"100%",height:this.settings.height,maxWidth:this.settings.width,maxHeight:this.settings.height}),-1===this.settings.aspectRatio&&(this.settings.aspectRatio=this.settings.width/this.settings.height),b(a).off("resize."+this.uniqueId+"."+c),b(a).on("resize."+this.uniqueId+"."+c,function(){d.resize()})):(this.$accordion.css({width:this.settings.width,height:this.settings.height,maxWidth:"",maxHeight:""}),this.$maskContainer.attr("style","")),this.$accordion.find("img.ga-background, img.ga-background-opened").css({width:"",height:""}),this._updatePanels(),this.settings.shadow===!0?this.$accordion.find(".ga-panel").addClass("ga-shadow"):this.settings.shadow===!1&&this.$accordion.find(".ga-shadow").removeClass("ga-shadow"),this.columns=this.settings.columns,this.rows=this.settings.rows,-1===this.settings.columns&&-1===this.settings.rows?(this.columns=4,this.rows=3):-1===this.settings.columns?(this.columns=Math.ceil(this.getTotalPanels()/this.settings.rows),this.rows=this.settings.rows):-1===this.settings.rows&&(this.columns=this.settings.columns,this.rows=Math.ceil(this.getTotalPanels()/this.settings.columns)),-1===this.settings.columns||-1===this.settings.rows)this.currentPage=0;else if(-1!==this.currentIndex)this.currentPage=Math.floor(this.currentIndex/(this.settings.columns*this.settings.rows));else if(this.settings.columns!==this.previousColumns&&-1!==this.previousColumns||this.settings.rows!==this.previousRows&&-1!==this.previousRows){var e=Math.round(this.currentPage*this.previousColumns*this.previousRows/(this.settings.columns*this.settings.rows));this.currentPage!==e&&(this.currentPage=e)}this._updatePaginationButtons(),this.resize();var f={type:"update"};d.trigger(f),b.isFunction(d.settings.update)&&d.settings.update.call(d,f)},resize:function(){var c=this;if(this.settings.responsive===!0&&this.$accordion.css({width:"100%"}),-1!==this.settings.aspectRatio&&this.$accordion.css("height",this.$accordion.innerWidth()/this.settings.aspectRatio),"custom"===this.settings.responsiveMode&&this.settings.responsive===!0?(this.$maskContainer.attr("style",""),this.totalWidth=this.$accordion.innerWidth(),this.totalHeight=this.$accordion.innerHeight()):"auto"===this.settings.responsiveMode&&this.settings.responsive===!0&&(this.autoResponsiveRatio=this.$accordion.innerWidth()/this.settings.width,this.$maskContainer.css({width:this.settings.width,height:this.settings.height,transform:"scaleX("+this.autoResponsiveRatio+") scaleY("+this.autoResponsiveRatio+")",transformOrigin:"top left"}),this.totalWidth=this.$maskContainer.innerWidth(),this.totalHeight=this.$maskContainer.innerHeight()),this.loadingPanels.length=0,this.computedPanelDistance=this.settings.panelDistance,"string"==typeof this.computedPanelDistance&&(-1!==this.computedPanelDistance.indexOf("%")?this.computedPanelDistance=this.totalWidth*(parseInt(this.computedPanelDistance,10)/100):-1!==this.computedPanelDistance.indexOf("px")&&(this.computedPanelDistance=parseInt(this.computedPanelDistance,10))),this.closedPanelWidth=(this.totalWidth-(this.columns-1)*this.computedPanelDistance)/this.columns,this.closedPanelHeight=(this.totalHeight-(this.rows-1)*this.computedPanelDistance)/this.rows,this.computedOpenedPanelWidth=this.settings.openedPanelWidth,this.maxComputedOpenedPanelWidth=this.settings.maxOpenedPanelWidth,"string"==typeof this.maxComputedOpenedPanelWidth&&(-1!==this.maxComputedOpenedPanelWidth.indexOf("%")?this.maxComputedOpenedPanelWidth=this.totalWidth*(parseInt(this.maxComputedOpenedPanelWidth,10)/100):-1!==this.maxComputedOpenedPanelWidth.indexOf("px")&&(this.maxComputedOpenedPanelWidth=parseInt(this.maxComputedOpenedPanelWidth,10))),this.computedOpenedPanelHeight=this.settings.openedPanelHeight,this.maxComputedOpenedPanelHeight=this.settings.maxOpenedPanelHeight,"string"==typeof this.maxComputedOpenedPanelHeight&&(-1!==this.maxComputedOpenedPanelHeight.indexOf("%")?this.maxComputedOpenedPanelHeight=this.totalHeight*(parseInt(this.maxComputedOpenedPanelHeight,10)/100):-1!==this.maxComputedOpenedPanelHeight.indexOf("px")&&(this.maxComputedOpenedPanelHeight=parseInt(this.maxComputedOpenedPanelHeight,10))),"string"==typeof this.computedOpenedPanelWidth)if(-1!==this.computedOpenedPanelWidth.indexOf("%"))this.computedOpenedPanelWidth=this.totalWidth*(parseInt(this.computedOpenedPanelWidth,10)/100);else if(-1!==this.computedOpenedPanelWidth.indexOf("px"))this.computedOpenedPanelWidth=parseInt(this.computedOpenedPanelWidth,10);else if("max"===this.computedOpenedPanelWidth&&-1!==this.currentIndex){var d=this.getPanelAt(this.currentIndex).getContentSize();this.computedOpenedPanelWidth="loading"===d?this.closedPanelWidth:Math.min(d.width,this.maxComputedOpenedPanelWidth)}if("string"==typeof this.computedOpenedPanelHeight)if(-1!==this.computedOpenedPanelHeight.indexOf("%"))this.computedOpenedPanelHeight=this.totalHeight*(parseInt(this.computedOpenedPanelHeight,10)/100);else if(-1!==this.computedOpenedPanelHeight.indexOf("px"))this.computedOpenedPanelHeight=parseInt(this.computedOpenedPanelHeight,10);else if("max"===this.computedOpenedPanelHeight&&-1!==this.currentIndex){var e=this.getPanelAt(this.currentIndex).getContentSize();this.computedOpenedPanelHeight="loading"===e?this.closedPanelHeight:Math.min(e.height,this.maxComputedOpenedPanelHeight)}if("auto"===this.settings.openedPanelWidth||"auto"===this.settings.openedPanelHeight){var f=this._getMinSize(this._getFirstPanelFromPage(),this._getLastPanelFromPage()),g=f.width,h=f.height;"auto"===this.settings.openedPanelWidth&&(this.computedOpenedPanelWidth=g),"auto"===this.settings.openedPanelHeight&&(this.computedOpenedPanelHeight=h)}if(this.$accordion.find("img.ga-background, img.ga-background-opened").css({"max-width":this.maxComputedOpenedPanelWidth,"max-height":this.maxComputedOpenedPanelHeight}),this.collapsedPanelWidth=(this.totalWidth-this.computedOpenedPanelWidth-(this.columns-1)*this.computedPanelDistance)/(this.columns-1),this.collapsedPanelHeight=(this.totalHeight-this.computedOpenedPanelHeight-(this.rows-1)*this.computedPanelDistance)/(this.rows-1),this.computedOpenedPanelWidth=Math.floor(this.computedOpenedPanelWidth),this.computedOpenedPanelHeight=Math.floor(this.computedOpenedPanelHeight),this.collapsedPanelWidth=Math.floor(this.collapsedPanelWidth),this.collapsedPanelHeight=Math.floor(this.collapsedPanelHeight),this.closedPanelWidth=Math.floor(this.closedPanelWidth),this.closedPanelHeight=Math.floor(this.closedPanelHeight),this.totalWidth=this.closedPanelWidth*this.columns+this.computedPanelDistance*(this.columns-1),this.totalHeight=this.closedPanelHeight*this.rows+this.computedPanelDistance*(this.rows-1),"custom"===this.settings.responsiveMode||this.settings.responsive===!1?this.$accordion.css({width:this.totalWidth,height:this.totalHeight}):(this.$accordion.css({width:this.totalWidth*this.autoResponsiveRatio,height:this.totalHeight*this.autoResponsiveRatio}),this.$maskContainer.css({width:this.totalWidth,height:this.totalHeight})),"horizontal"===this.settings.orientation?(this.totalPanelsSize=this.totalWidth*this.getTotalPages()+this.computedPanelDistance*(this.getTotalPages()-1),this.$panelsContainer.css("width",this.totalPanelsSize)):(this.totalPanelsSize=this.totalHeight*this.getTotalPages()+this.computedPanelDistance*(this.getTotalPages()-1),this.$panelsContainer.css("height",this.totalPanelsSize)),this.getTotalPages()>1){var i={},j=-(("horizontal"===this.settings.orientation?this.totalWidth:this.totalHeight)+this.computedPanelDistance)*this.currentPage;i[this.positionProperty]=j,this.$panelsContainer.css(i)}if(b.each(this.panels,function(a,d){var e,f,g,h,i,j;if("horizontal"===c.settings.orientation?(i=a%c.columns+c.columns*Math.floor(a/(c.rows*c.columns)),j=Math.floor(a/c.columns)-c.rows*Math.floor(a/(c.rows*c.columns)),-1!==c.currentIndex&&Math.floor(a/(c.rows*c.columns))===c.currentPage?(e=c.currentPage*(c.totalWidth+c.computedPanelDistance)+(i-c.currentPage*c.columns)*(c.collapsedPanelWidth+c.computedPanelDistance)+(a%c.columns>c.currentIndex%c.columns?c.computedOpenedPanelWidth-c.collapsedPanelWidth:0),f=j*(c.collapsedPanelHeight+c.computedPanelDistance)+(Math.floor(a/c.columns)>Math.floor(c.currentIndex/c.columns)?c.computedOpenedPanelHeight-c.collapsedPanelHeight:0)):(e=i*(c.closedPanelWidth+c.computedPanelDistance),f=j*(c.closedPanelHeight+c.computedPanelDistance))):(i=a%c.columns,j=Math.floor(a/c.columns),-1!==c.currentIndex&&Math.floor(a/(c.rows*c.columns))===c.currentPage?(e=i*(c.collapsedPanelWidth+c.computedPanelDistance)+(a%c.columns>c.currentIndex%c.columns?c.computedOpenedPanelWidth-c.collapsedPanelWidth:0),f=c.currentPage*(c.totalHeight+c.computedPanelDistance)+(j-c.currentPage*c.rows)*(c.collapsedPanelHeight+c.computedPanelDistance)+(Math.floor(a/c.columns)>Math.floor(c.currentIndex/c.columns)?c.computedOpenedPanelHeight-c.collapsedPanelHeight:0)):(e=i*(c.closedPanelWidth+c.computedPanelDistance),f=j*(c.closedPanelHeight+c.computedPanelDistance))),-1!==c.currentIndex&&Math.floor(a/(c.rows*c.columns))===c.currentPage?(g=a%c.columns===c.currentIndex%c.columns?c.computedOpenedPanelWidth:c.collapsedPanelWidth,h=Math.floor(a/c.columns)===Math.floor(c.currentIndex/c.columns)?c.computedOpenedPanelHeight:c.collapsedPanelHeight):(g=c.closedPanelWidth,h=c.closedPanelHeight),Math.floor(a/(c.rows*c.columns))===c.currentPage&&"max"===c.settings.openedPanelWidth&&a%c.columns===c.currentIndex%c.columns||"max"===c.settings.openedPanelHeight&&Math.floor(a/c.columns)===Math.floor(c.currentIndex/c.columns)){var k=d.getContentSize();a%c.columns===c.currentIndex%c.columns&&("loading"===k&&-1===b.inArray(a,c.loadingPanels)?c.loadingPanels.push(a):k.width<c.computedOpenedPanelWidth&&(e+=(c.computedOpenedPanelWidth-k.width)/2,g=k.width)),Math.floor(a/c.columns)===Math.floor(c.currentIndex/c.columns)&&("loading"===k&&-1===b.inArray(a,c.loadingPanels)?c.loadingPanels.push(a):k.height<c.computedOpenedPanelHeight&&(f+=(c.computedOpenedPanelHeight-k.height)/2,h=k.height))}d.setPosition(e,f),d.setSize(g,h)}),null!==this.settings.breakpoints&&this.breakpoints.length>0)if(b(a).width()>this.breakpoints[this.breakpoints.length-1].size&&-1!==this.currentBreakpoint)this.currentBreakpoint=-1,this._setProperties(this.originalSettings,!1);else for(var k=0,l=this.breakpoints.length;l>k;k++)if(b(a).width()<=this.breakpoints[k].size){if(this.currentBreakpoint!==this.breakpoints[k].size){var m={type:"breakpointReach",size:this.breakpoints[k].size,settings:this.breakpoints[k].properties};c.trigger(m),b.isFunction(c.settings.breakpointReach)&&c.settings.breakpointReach.call(c,m),this.currentBreakpoint=this.breakpoints[k].size;var n=b.extend({},this.originalSettings,this.breakpoints[k].properties);this._setProperties(n,!1)}break}},_updatePanels:function(){for(var a=this,d=this.panels.length-1;d>=0;d--)if(0===this.$accordion.find('.ga-panel[data-index="'+d+'"]').length){var e=this.panels[d];e.off("panelMouseOver."+c),e.off("panelMouseOut."+c),e.off("panelClick."+c),e.off("imagesComplete."+c),e.destroy(),this.panels.splice(d,1)}this.$accordion.find(".ga-panel").each(function(c,d){var e=b(d);"undefined"==typeof e.attr("data-init")?a._createPanel(c,e):(a.panels[c].setIndex(c),a.panels[c].update())})},_createPanel:function(a,d){var f=this,g=b(d),h=new e(g,this,a);this.panels.splice(a,0,h),h.on("panelMouseOver."+c,function(c){if(f.isPageScrolling!==!0){"hover"===f.settings.openPanelOn&&(clearTimeout(f.mouseDelayTimer),f.mouseDelayTimer=setTimeout(function(){f.openPanel(c.index)},f.settings.mouseDelay));var d={type:"panelMouseOver",index:a};f.trigger(d),b.isFunction(f.settings.panelMouseOver)&&f.settings.panelMouseOver.call(f,d)}}),h.on("panelMouseOut."+c,function(){if(f.isPageScrolling!==!0){var c={type:"panelMouseOut",index:a};f.trigger(c),b.isFunction(f.settings.panelMouseOut)&&f.settings.panelMouseOut.call(f,c)}}),h.on("panelClick."+c,function(c){"click"===f.settings.openPanelOn&&(a!==this.currentIndex?f.openPanel(c.index):f.closePanels());var d={type:"panelClick",index:a};f.trigger(d),b.isFunction(f.settings.panelClick)&&f.settings.panelClick.call(f,d)}),h.on("imagesComplete."+c,function(a){var c=b.inArray(a.index,f.loadingPanels);-1!==c&&(f.loadingPanels.splice(c,1),0===f.loadingPanels.length&&f.openPanel(f.currentIndex,!0))})},removePanels:function(){b.each(this.panels,function(a,b){b.off("panelMouseOver."+c),b.off("panelMouseOut."+c),b.off("panelClick."+c),b.off("imagesComplete."+c),b.destroy()}),this.panels.length=0},destroy:function(){this.$accordion.removeData("gridAccordion"),this.$accordion.attr("style",""),this.$panelsContainer.attr("style",""),this.off("mouseenter."+c),this.off("mouseleave."+c),b(a).off("resize."+this.uniqueId+"."+c),this._stopPanelsAnimation(this.openPanelAnimation),this._stopPanelsAnimation(this.closePanelsAnimation);var d=b.GridAccordion.modules.accordion;if("undefined"!=typeof d)for(var e in d)"undefined"!=typeof this["destroy"+d[e]]&&this["destroy"+d[e]]();this.removePanels(),this.$panelsContainer.appendTo(this.$accordion),this.$maskContainer.remove(),this.$accordion.find(".ga-pagination-buttons").remove()},_prepareRAF:function(){if("undefined"==typeof a.requestAnimationFrame)for(var b=["webkit","moz"],c=0;c<b.length;c++)a.requestAnimationFrame=a[b[c]+"RequestAnimationFrame"],a.cancelAnimationFrame=a.cancelAnimationFrame||a[b[c]+"CancelAnimationFrame"]||a[b[c]+"CancelRequestAnimationFrame"];if("undefined"==typeof a.requestAnimationFrame){var d=0;a.requestAnimationFrame=function(b){var c=(new Date).valueOf(),e=Math.max(0,16-(c-d)),f=a.setTimeout(function(){b(c+e)},e);return d=c+e,f},a.cancelAnimationFrame=function(a){clearTimeout(a)}}},_animatePanels:function(b,c){function d(){1>f?(f=((new Date).valueOf()-e)/c.duration,f>1&&(f=1),f=.5-Math.cos(f*Math.PI)/2,c.step(f),b.timer=a.requestAnimationFrame(d)):(c.complete(),b.isRunning=!1,a.cancelAnimationFrame(b.timer))}var e=(new Date).valueOf(),f=0;b.isRunning=!0,b.timer=a.requestAnimationFrame(d)},_stopPanelsAnimation:function(b){"undefined"!=typeof b.isRunning&&b.isRunning===!0&&(b.isRunning=!1,a.cancelAnimationFrame(b.timer))},openPanel:function(a,c){if(a!==this.currentIndex||c===!0){this.$accordion.hasClass("ga-opened")===!1&&(this.$accordion.removeClass("ga-closed"),this.$accordion.addClass("ga-opened"));var d=this.currentIndex;if(this.currentIndex=a,-1!==this.settings.columns&&-1!==this.settings.rows){var e=Math.floor(this.currentIndex/(this.columns*this.rows));e!==this.currentPage&&this.gotoPage(e),this.currentIndex=a}var f=this,g=[],h=[],i=[],j=[],k=[],l=[],m=[],n=[],o=[],p=this._getFirstPanelFromPage(),q=this._getLastPanelFromPage(),r=0;if(this.loadingPanels.length=0,this.$accordion.find("ga-panel.ga-opened").removeClass("ga-opened"),this.$accordion.find(".ga-panel").eq(this.currentIndex).addClass("ga-opened"),"max"===this.settings.openedPanelWidth){var s=this.getPanelAt(this.currentIndex).getContentSize();this.computedOpenedPanelWidth="loading"===s?this.closedPanelWidth:Math.min(s.width,this.maxComputedOpenedPanelWidth),this.collapsedPanelWidth=(this.totalWidth-this.computedOpenedPanelWidth-(this.columns-1)*this.computedPanelDistance)/(this.columns-1)}if("max"===this.settings.openedPanelHeight){var t=this.getPanelAt(this.currentIndex).getContentSize();this.computedOpenedPanelHeight="loading"===t?this.closedPanelHeight:Math.min(t.height,this.maxComputedOpenedPanelHeight),this.collapsedPanelHeight=(this.totalHeight-this.computedOpenedPanelHeight-(this.rows-1)*this.computedPanelDistance)/(this.rows-1)}if("auto"===this.settings.openedPanelWidth||"auto"===this.settings.openedPanelHeight){var u=this._getMinSize(p,q),v=u.width,w=u.height;"auto"===this.settings.openedPanelWidth&&(this.computedOpenedPanelWidth=v,this.collapsedPanelWidth=(this.totalWidth-this.computedOpenedPanelWidth-(this.columns-1)*this.computedPanelDistance)/(this.columns-1)),"auto"===this.settings.openedPanelHeight&&(this.computedOpenedPanelHeight=w,this.collapsedPanelHeight=(this.totalHeight-this.computedOpenedPanelHeight-(this.rows-1)*this.computedPanelDistance)/(this.rows-1))}for(var x=p;q>=x;x++){var y=this.getPanelAt(x),z=y.getPosition(),A=y.getContentSize();k[x]=z.left,l[x]=z.top,"horizontal"===this.settings.orientation?(g[x]=this.currentPage*(this.totalWidth+this.computedPanelDistance)+r%this.columns*(this.collapsedPanelWidth+this.computedPanelDistance)+(x%this.columns>this.currentIndex%this.columns?this.computedOpenedPanelWidth-this.collapsedPanelWidth:0),h[x]=Math.floor(r/this.columns)*(this.collapsedPanelHeight+this.computedPanelDistance)+(Math.floor(x/this.columns)>Math.floor(this.currentIndex/this.columns)?this.computedOpenedPanelHeight-this.collapsedPanelHeight:0)):(g[x]=r%this.columns*(this.collapsedPanelWidth+this.computedPanelDistance)+(x%this.columns>this.currentIndex%this.columns?this.computedOpenedPanelWidth-this.collapsedPanelWidth:0),h[x]=this.currentPage*(this.totalHeight+this.computedPanelDistance)+Math.floor(r/this.columns)*(this.collapsedPanelHeight+this.computedPanelDistance)+(Math.floor(x/this.columns)>Math.floor(this.currentIndex/this.columns)?this.computedOpenedPanelHeight-this.collapsedPanelHeight:0));var B=y.getSize();m[x]=B.width,n[x]=B.height,i[x]=x%this.columns===this.currentIndex%this.columns?this.computedOpenedPanelWidth:this.collapsedPanelWidth,j[x]=Math.floor(x/this.columns)===Math.floor(this.currentIndex/this.columns)?this.computedOpenedPanelHeight:this.collapsedPanelHeight,"max"===this.settings.openedPanelWidth&&x%this.columns===this.currentIndex%this.columns&&("loading"===A&&-1===b.inArray(x,this.loadingPanels)?this.loadingPanels.push(x):A.width<this.computedOpenedPanelWidth&&(g[x]+=(this.computedOpenedPanelWidth-A.width)/2,i[x]=A.width)),"max"===this.settings.openedPanelHeight&&Math.floor(x/this.columns)===Math.floor(this.currentIndex/this.columns)&&("loading"===A&&-1===b.inArray(x,this.loadingPanels)?this.loadingPanels.push(x):A.height<this.computedOpenedPanelHeight&&(h[x]+=(this.computedOpenedPanelHeight-A.height)/2,j[x]=A.height)),(g[x]!==k[x]||h[x]!==l[x])&&o.push(x),i[x]===m[x]&&j[x]===n[x]||-1!==b.inArray(x,o)||o.push(x),r++}var C=o.length;this.closePanelsAnimation.page===this.currentPage&&this._stopPanelsAnimation(this.closePanelsAnimation),this._stopPanelsAnimation(this.openPanelAnimation),this.openPanelAnimation.page=this.currentPage,this._animatePanels(this.openPanelAnimation,{duration:this.settings.openPanelDuration,step:function(a){for(var b=0;C>b;b++){var c=o[b],d=f.getPanelAt(c);d.setPosition(a*(g[c]-k[c])+k[c],a*(h[c]-l[c])+l[c]),d.setSize(a*(i[c]-m[c])+m[c],a*(j[c]-n[c])+n[c])}},complete:function(){var a={type:"panelOpenComplete",index:f.currentIndex};f.trigger(a),b.isFunction(f.settings.panelOpenComplete)&&f.settings.panelOpenComplete.call(f,a)}});var D={type:"panelOpen",index:a,previousIndex:d};this.trigger(D),b.isFunction(this.settings.panelOpen)&&this.settings.panelOpen.call(this,D)}},closePanels:function(){var a=this.currentIndex;this.currentIndex=-1,this.$accordion.hasClass("ga-closed")===!1&&(this.$accordion.removeClass("ga-opened"),this.$accordion.addClass("ga-closed")),clearTimeout(this.mouseDelayTimer);for(var c=this,d=[],e=[],f=[],g=[],h=[],i=[],j=[],k=[],l=this._getFirstPanelFromPage(),m=this._getLastPanelFromPage(),n=0,o=l;m>=o;o++){var p=this.getPanelAt(o),q=p.getPosition();h[o]=q.left,i[o]=q.top,"horizontal"===this.settings.orientation?(d[o]=this.currentPage*(this.totalWidth+this.computedPanelDistance)+n%this.columns*(this.closedPanelWidth+this.computedPanelDistance),e[o]=Math.floor(n/this.columns)*(this.closedPanelHeight+this.computedPanelDistance)):(d[o]=n%this.columns*(this.closedPanelWidth+this.computedPanelDistance),e[o]=this.currentPage*(this.totalHeight+this.computedPanelDistance)+Math.floor(n/this.columns)*(this.closedPanelHeight+this.computedPanelDistance));var r=p.getSize();j[o]=r.width,k[o]=r.height,f[o]=this.closedPanelWidth,g[o]=this.closedPanelHeight,n++}this.openPanelAnimation.page===this.currentPage&&this._stopPanelsAnimation(this.openPanelAnimation),this._stopPanelsAnimation(this.closePanelsAnimation),this.closePanelsAnimation.page=this.currentPage,this._animatePanels(this.closePanelsAnimation,{duration:this.settings.closePanelDuration,step:function(a){for(var b=l;m>=b;b++){var n=c.getPanelAt(b);n.setPosition(a*(d[b]-h[b])+h[b],a*(e[b]-i[b])+i[b]),n.setSize(a*(f[b]-j[b])+j[b],a*(g[b]-k[b])+k[b])}},complete:function(){var d={type:"panelsCloseComplete",previousIndex:a};c.trigger(d),b.isFunction(c.settings.panelsCloseComplete)&&c.settings.panelsCloseComplete.call(c,d)}});var s={type:"panelsClose",previousIndex:a};this.trigger(s),b.isFunction(this.settings.panelsClose)&&this.settings.panelsClose.call(this,s)},nextPanel:function(){var a=this.currentIndex>=this.getTotalPanels()-1?0:this.currentIndex+1;this.openPanel(a)},previousPanel:function(){var a=this.currentIndex<=0?this.getTotalPanels()-1:this.currentIndex-1;this.openPanel(a)},_getMinSize:function(a,c){for(var d=this.maxComputedOpenedPanelWidth,e=this.maxComputedOpenedPanelHeight,f=a;c>=f;f++){var g=this.getPanelAt(f),h=g.getContentSize();f%this.columns===this.currentIndex%this.columns&&("loading"===h&&-1===b.inArray(f,this.loadingPanels)?(this.loadingPanels.push(f),d=this.closedPanelWidth):h.width<d&&(d=h.width)),Math.floor(f/this.columns)===Math.floor(this.currentIndex/this.columns)&&("loading"===h&&-1===b.inArray(f,this.loadingPanels)?(this.loadingPanels.push(f),e=this.closedPanelHeight):h.height<e&&(e=h.height))}return{width:d,height:e}},getCurrentIndex:function(){return this.currentIndex},getPanelAt:function(a){return this.panels[a]},getTotalPanels:function(){return this.panels.length},getTotalPages:function(){return-1===this.settings.columns||-1===this.settings.rows?1:Math.ceil(this.getTotalPanels()/(this.columns*this.rows))},getCurrentPage:function(){return-1===this.settings.columns?0:this.currentPage},gotoPage:function(a){-1!==this.currentIndex&&this.closePanels(),this.currentPage=a,this.isPageScrolling=!0;var c=this,d={},e=-(a*("horizontal"===this.settings.orientation?this.totalWidth:this.totalHeight)+this.currentPage*this.computedPanelDistance);d[this.positionProperty]=e;var f={type:"pageScroll",index:this.currentPage};this.trigger(f),b.isFunction(this.settings.pageScroll)&&this.settings.pageScroll.call(this,f),this.$panelsContainer.stop().animate(d,this.settings.pageScrollDuration,this.settings.pageScrollEasing,function(){c.isPageScrolling=!1;var a={type:"pageScrollComplete",index:c.currentPage};c.trigger(a),b.isFunction(c.settings.pageScrollComplete)&&c.settings.pageScrollComplete.call(c,a)})},nextPage:function(){var a=this.currentPage>=this.getTotalPages()-1?0:this.currentPage+1;this.gotoPage(a)},previousPage:function(){var a=this.currentPage<=0?this.getTotalPages()-1:this.currentPage-1;this.gotoPage(a)},_getFirstPanelFromPage:function(){return 1===this.getTotalPages()?0:this.currentPage*this.columns*this.rows},_getLastPanelFromPage:function(){return 1===this.getTotalPages()?this.getTotalPanels()-1:this.currentPage===this.getTotalPages()-1?this.getTotalPanels()-1:(this.currentPage+1)*this.columns*this.rows-1},_updatePaginationButtons:function(){var a=this.$accordion.find(".ga-pagination-buttons"),d=this,e=this.getTotalPages();if(1>=e&&0!==a.length)a.remove(),a.off("click."+c,".ga-pagination-button"),this.off("pageScroll."+c);else if(e>1&&0===a.length){a=b('<div class="ga-pagination-buttons"></div>').appendTo(this.$accordion);for(var f=0;f<this.getTotalPages();f++)b('<div class="ga-pagination-button"></div>').appendTo(a);a.on("click."+c,".ga-pagination-button",function(){d.gotoPage(b(this).index())}),a.find(".ga-pagination-button").eq(this.currentPage).addClass("ga-selected"),this.on("pageScroll."+c,function(b){a.find(".ga-selected").removeClass("ga-selected"),a.find(".ga-pagination-button").eq(b.index).addClass("ga-selected")})}else if(e>1&&0!==a.length){a.empty();for(var g=0;g<this.getTotalPages();g++)b('<div class="ga-pagination-button"></div>').appendTo(a);a.find(".ga-selected").removeClass("ga-selected"),a.find(".ga-pagination-button").eq(this.currentPage).addClass("ga-selected")}},_setProperties:function(a,b){for(var c in a)"columns"===c&&-1!==this.settings.columns&&(this.previousColumns=this.settings.columns),"rows"===c&&-1!==this.settings.rows&&(this.previousRows=this.settings.rows),this.settings[c]=a[c],b!==!1&&(this.originalSettings[c]=a[c]);this.update()},on:function(a,b){return this.$accordion.on(a,b)},off:function(a){return this.$accordion.off(a)},trigger:function(a){return this.$accordion.triggerHandler(a)},defaults:{width:800,height:400,responsive:!0,responsiveMode:"auto",aspectRatio:-1,orientation:"horizontal",startPanel:-1,rows:3,columns:4,openedPanelWidth:"max",openedPanelHeight:"max",maxOpenedPanelWidth:"70%",maxOpenedPanelHeight:"70%",openPanelOn:"hover",closePanelsOnMouseOut:!0,mouseDelay:200,panelDistance:10,openPanelDuration:700,closePanelDuration:700,pageScrollDuration:500,pageScrollEasing:"swing",breakpoints:null,startPage:0,shadow:!1,init:function(){},update:function(){},accordionMouseOver:function(){},accordionMouseOut:function(){},panelClick:function(){},panelMouseOver:function(){},panelMouseOut:function(){},panelOpen:function(){},panelsClose:function(){},pageScroll:function(){},panelOpenComplete:function(){},panelsCloseComplete:function(){},pageScrollComplete:function(){},breakpointReach:function(){}}};var e=function(a,b,d){this.$panel=a,this.accordion=b,this.settings=this.accordion.settings,this.panelNS="GridAccordionPanel"+d+"."+c,this.setIndex(d),this._init(),this.isLoading=!1,this.isLoaded=!1};e.prototype={_init:function(){var a=this;this.$panel.attr("data-init",!0),this.on("mouseenter."+this.panelNS,function(){a.trigger({type:"panelMouseOver."+c,index:a.index})}),this.on("mouseleave."+this.panelNS,function(){a.trigger({type:"panelMouseOut."+c,index:a.index})}),this.on("click."+this.panelNS,function(){a.trigger({type:"panelClick."+c,index:a.index})}),this.update();var d=b.GridAccordion.modules.panel;if("undefined"!=typeof d)for(var e in d)"undefined"!=typeof this["init"+d[e]]&&this["init"+d[e]]()},update:function(){this.positionProperty="horizontal"===this.settings.orientation?"left":"top",this.sizeProperty="horizontal"===this.settings.orientation?"width":"height",this.$panel.css({top:"",left:"",width:"",height:""})},destroy:function(){this.off("mouseenter."+this.panelNS),this.off("mouseleave."+this.panelNS),this.off("click."+this.panelNS),this.$panel.attr("style",""),this.$panel.removeAttr("data-init"),this.$panel.removeAttr("data-index");var a=b.GridAccordion.modules.panel;if("undefined"!=typeof a)for(var c in a)"undefined"!=typeof this["destroy"+a[c]]&&this["destroy"+a[c]]()},getIndex:function(){return this.index},setIndex:function(a){this.index=a,this.$panel.attr("data-index",this.index)},getPosition:function(){return{left:parseInt(this.$panel.css("left"),10),top:parseInt(this.$panel.css("top"),10)}},setPosition:function(a,b){this.$panel.css({left:a,top:b})},getSize:function(){return{width:parseInt(this.$panel.css("width"),10),height:parseInt(this.$panel.css("height"),10)}},setSize:function(a,b){this.$panel.css({width:a,height:b})},getContentSize:function(){var a,b,c=this;return c.isLoaded===!1&&"loading"===this.checkImagesComplete()?"loading":(a=this.$panel[0].scrollWidth,b=this.$panel[0].scrollHeight,{width:a,height:b})},checkImagesComplete:function(){if(this.isLoading===!0)return"loading";var a=this,d="complete";if(this.$panel.find("img").each(function(){var a=b(this)[0];(a.complete===!1||"undefined"!=typeof b(this).attr("data-src"))&&(d="loading")}),"loading"===d){this.isLoading=!0;var e=setInterval(function(){var d=!0;a.$panel.find("img").each(function(){var a=b(this)[0];(a.complete===!1||"undefined"!=typeof b(this).attr("data-src"))&&(d=!1)}),d===!0&&(a.isLoading=!1,a.isLoaded=!0,clearInterval(e),a.trigger({type:"imagesComplete."+c,index:a.index}))},100)}else this.isLoaded=!0;return d},on:function(a,b){return this.$panel.on(a,b)},off:function(a){return this.$panel.off(a)},trigger:function(a){return this.$panel.triggerHandler(a)}},a.GridAccordion=d,a.GridAccordionPanel=e,b.fn.gridAccordion=function(a){var c=Array.prototype.slice.call(arguments,1);return this.each(function(){if("undefined"==typeof b(this).data("gridAccordion")){var e=new d(this,a);b(this).data("gridAccordion",e)}else if("undefined"!=typeof a){var f=b(this).data("gridAccordion");if("function"==typeof f[a])f[a].apply(f,c);else if("undefined"!=typeof f.settings[a]){var g={};g[a]=c[0],f._setProperties(g)}else"object"==typeof a?f._setProperties(a):b.error(a+" does not exist in gridAccordion.")}})}}(window,jQuery),function(a,b){"use strict";
var c=b.GridAccordion.namespace,d={autoplayIndex:-1,autoplayTimer:null,isTimerRunning:!1,isTimerPaused:!1,initAutoplay:function(){var a=this;b.extend(this.settings,this.autoplayDefaults,this.options),this.settings.autoplay===!0&&this.startAutoplay(),this.on("panelOpen.Autoplay."+c,function(b){a.autoplayIndex=b.index,a.settings.autoplay===!0&&(a.isTimerRunning===!0&&a.stopAutoplay(),a.isTimerPaused===!1&&a.startAutoplay())}),this.on("panelsClose.Autoplay."+c,function(b){-1!==b.previousIndex&&(a.autoplayIndex=b.previousIndex)}),this.on("pageScroll.Autoplay."+c,function(){a.autoplayIndex=a._getFirstPanelFromPage()-1}),this.on("mouseenter.Autoplay."+c,function(){a.settings.autoplay!==!0||!a.isTimerRunning||"pause"!==a.settings.autoplayOnHover&&"stop"!==a.settings.autoplayOnHover||(a.stopAutoplay(),a.isTimerPaused=!0)}),this.on("mouseleave.Autoplay."+c,function(){a.settings.autoplay===!0&&a.isTimerRunning===!1&&"stop"!==a.settings.autoplayOnHover&&(a.startAutoplay(),a.isTimerPaused=!1)})},startAutoplay:function(){var a=this;this.isTimerRunning=!0,this.autoplayTimer=setTimeout(function(){-1!==a.autoplayIndex&&(a.currentIndex=a.autoplayIndex,a.autoplayIndex=-1),"normal"===a.settings.autoplayDirection?a.nextPanel():"backwards"===a.settings.autoplayDirection&&a.previousPanel()},this.settings.autoplayDelay)},stopAutoplay:function(){this.isTimerRunning=!1,clearTimeout(this.autoplayTimer)},destroyAutoplay:function(){clearTimeout(this.autoplayTimer),this.off("panelOpen.Autoplay."+c),this.off("pageScroll.Autoplay."+c),this.off("mouseenter.Autoplay."+c),this.off("mouseleave.Autoplay."+c)},autoplayDefaults:{autoplay:!0,autoplayDelay:5e3,autoplayDirection:"normal",autoplayOnHover:"pause"}};b.GridAccordion.addModule("Autoplay",d,"accordion")}(window,jQuery),function(a,b){"use strict";var c=b.GridAccordion.namespace,d={initDeepLinking:function(){var d=this;this._parseHash(a.location.hash)!==!1&&(this.options.startPanel=-1),this.on("init.DeepLinking."+c,function(){d._gotoHash(a.location.hash)}),b(a).on("hashchange.DeepLinking."+this.uniqueId+"."+c,function(){d._gotoHash(a.location.hash)})},_parseHash:function(a){if(""!==a){a=a.substring(1);var b=a.split("/"),c=b.pop(),d=a.slice(0,-c.toString().length-1);if(this.$accordion.attr("id")===d)return{accordionID:d,panelId:c}}return!1},_gotoHash:function(a){var b=this._parseHash(a);if(b!==!1){var c=b.panelId,d=parseInt(c,10);if(isNaN(d)){var e=this.$accordion.find(".ga-panel#"+c).index();-1!==e&&this.openPanel(e)}else this.openPanel(d)}},destroyDeepLinking:function(){b(a).off("hashchange.DeepLinking."+this.uniqueId+"."+c)}};b.GridAccordion.addModule("DeepLinking",d,"accordion")}(window,jQuery),function(a,b){"use strict";var c=b.GridAccordion.namespace,d={JSONDataAttributesMap:{width:"data-width",height:"data-height",depth:"data-depth",position:"data-position",horizontal:"data-horizontal",vertical:"data-vertical",showTransition:"data-show-transition",showOffset:"data-show-offset",showDelay:"data-show-delay",showDuration:"data-show-duration",showEasing:"data-show-easing",hideTransition:"data-hide-transition",hideOffset:"data-",hideDelay:"data-hide-delay",hideDuration:"data-hide-duration",hideEasing:"data-hide-easing"},initJSON:function(){b.extend(this.settings,this.JSONDefaults,this.options),null!==this.settings.JSONSource&&this.updateJSON()},updateJSON:function(){var a=this;this.removePanels(),this.$panelsContainer.empty(),this.off("JSONReady."+c),this.on("JSONReady."+c,function(c){var d=c.jsonData,e=d.accordion.panels,f=d.accordion.lazyLoading;b.each(e,function(c,d){var e,g,h=d,i=b('<div class="ga-panel"></div>').appendTo(a.$panelsContainer);if("undefined"!=typeof h.backgroundLink&&(e=b('<a href="'+h.backgroundLink.address+'"></a>'),b.each(h.backgroundLink,function(a,b){"address"!==a&&e.attr(a,b)}),e.appendTo(i)),"undefined"!=typeof h.background){var j=b('<img class="ga-background"/>');"undefined"!=typeof f?j.attr({src:f,"data-src":h.background.source}):j.attr({src:h.background.source}),"undefined"!=typeof h.backgroundRetina&&j.attr({"data-retina":h.backgroundRetina.source}),b.each(h.background,function(a,b){"source"!==a&&j.attr(a,b)}),j.appendTo("undefined"!=typeof e?e:i)}if("undefined"!=typeof h.backgroundOpenedLink&&(g=b('<a href="'+h.backgroundOpenedLink.address+'"></a>'),b.each(h.backgroundOpenedLink,function(a,b){"address"!==a&&g.attr(a,b)}),g.appendTo(i)),"undefined"!=typeof h.backgroundOpened){var k=b('<img class="ga-background-opened"/>');"undefined"!=typeof f?k.attr({src:f,"data-src":h.backgroundOpened.source}):k.attr({src:h.backgroundOpened.source}),"undefined"!=typeof h.backgroundOpenedRetina&&k.attr({"data-retina":h.backgroundOpenedRetina.source}),b.each(h.backgroundOpened,function(a,b){"source"!==a&&k.attr(a,b)}),k.appendTo("undefined"!=typeof g?g:i)}"undefined"!=typeof h.layers&&a._parseLayers(h.layers,i)}),a.update()}),this._loadJSON()},_parseLayers:function(a,c){var d=this;b.each(a,function(a,e){var f=e,g="",h="";b.each(f,function(a,c){if("style"===a){var e=c.split(" ");b.each(e,function(a,b){g+=" ga-"+b})}else"content"!==a&&"layers"!==a&&(h+=" "+d.JSONDataAttributesMap[a]+'="'+c+'"')});var i=b('<div class="ga-layer'+g+'"'+h+"></div>").appendTo(c);"undefined"!=typeof e.layers?d._parseLayers(e.layers,i):i.html(f.content)})},_loadJSON:function(){var a=this;if(".json"===this.settings.JSONSource.slice(-5))b.getJSON(this.settings.JSONSource,function(b){a.trigger({type:"JSONReady."+c,jsonData:b})});else{var d=b.parseJSON(this.settings.JSONSource);a.trigger({type:"JSONReady."+c,jsonData:d})}},destroyJSON:function(){this.off("JSONReady."+c)},JSONDefaults:{JSONSource:null}};b.GridAccordion.addModule("JSON",d,"accordion")}(window,jQuery),function(a,b){"use strict";var c=b.GridAccordion.namespace,d={initKeyboard:function(){var a=this,d=!1;b.extend(this.settings,this.keyboardDefaults,this.options),this.settings.keyboard!==!1&&(this.$accordion.on("focus.Keyboard."+c,function(){d=!0}),this.$accordion.on("blur.Keyboard."+c,function(){d=!1}),b(document).on("keydown.Keyboard."+this.uniqueId+"."+c,function(b){(a.settings.keyboardOnlyOnFocus!==!0||d!==!1)&&(37===b.which?a.previousPanel():39===b.which?a.nextPanel():13===b.which&&a.$accordion.find(".ga-panel").eq(a.currentIndex).children("a")[0].click())}))},destroyKeyboard:function(){this.$accordion.off("focus.Keyboard."+c),this.$accordion.off("blur.Keyboard."+c),b(document).off("keydown.Keyboard."+this.uniqueId+"."+c)},keyboardDefaults:{keyboard:!0,keyboardOnlyOnFocus:!1}};b.GridAccordion.addModule("Keyboard",d,"accordion")}(window,jQuery),function(a,b){"use strict";var c=(b.GridAccordion.namespace,a.navigator.userAgent.toLowerCase()),d=/(msie) ([\w.]+)/,e=d.exec(c)||[],f=e[1],g=e[2],h={initLayers:function(){this.layers=[];var a=this;this.$panel.find(".ga-layer").each(function(){var c=new i(b(this));a.layers.push(c)}),this.index===this.accordion.getCurrentIndex()?this._handleLayersInOpenedState():this._handleLayersInClosedState(),this.accordion.on("panelOpen.Layers."+this.panelNS,function(b){b.index!==b.previousIndex&&(a.index===b.previousIndex&&a._handleLayersInClosedState(),a.index===b.index&&a._handleLayersInOpenedState())}),this.accordion.on("panelsClose.Layers."+this.panelNS,function(b){a.index===b.previousIndex&&a._handleLayersInClosedState()})},_handleLayersInOpenedState:function(){b.each(this.layers,function(a,b){"opened"===b.visibleOn&&b.show(),"closed"===b.visibleOn&&b.hide()})},_handleLayersInClosedState:function(){b.each(this.layers,function(a,b){"opened"===b.visibleOn&&b.hide(),"closed"===b.visibleOn&&b.show()})},destroyLayers:function(){this.accordion.off("panelOpen.Layers."+this.panelNS),this.accordion.off("panelsClose.Layers."+this.panelNS),b.each(this.layers,function(a,b){b.destroy()})}},i=function(a){this.$layer=a,this.visibleOn="n/a",this.isVisible=!1,this.styled=!1,this._init()};i.prototype={_init:function(){this.$layer.css({display:"none"}),this.$layer.hasClass("ga-opened")?this.visibleOn="opened":this.$layer.hasClass("ga-closed")?this.visibleOn="closed":(this.visibleOn="always",this.show())},_setStyle:function(){this.styled=!0,this.$layer.css("display","block"),this.data=this.$layer.data(),"undefined"!=typeof this.data.width&&this.$layer.css("width",this.data.width),"undefined"!=typeof this.data.height&&this.$layer.css("height",this.data.height),"undefined"!=typeof this.data.depth&&this.$layer.css("z-index",this.data.depth),this.position=this.data.position?this.data.position.toLowerCase():"topleft",this.horizontalPosition=-1!==this.position.indexOf("right")?"right":"left",this.verticalPosition=-1!==this.position.indexOf("bottom")?"bottom":"top",this._setPosition()},_setPosition:function(){"undefined"!=typeof this.data.horizontal?"center"===this.data.horizontal?(-1===this.$layer.attr("style").indexOf("width")&&(this.$layer.css("white-space","nowrap"),this.$layer.css("width",this.$layer.outerWidth(!0))),this.$layer.css({marginLeft:"auto",marginRight:"auto",left:0,right:0})):this.$layer.css(this.horizontalPosition,this.data.horizontal):this.$layer.css(this.horizontalPosition,0),"undefined"!=typeof this.data.vertical?"center"===this.data.vertical?(-1===this.$layer.attr("style").indexOf("height")&&(this.$layer.css("white-space","nowrap"),this.$layer.css("height",this.$layer.outerHeight(!0))),this.$layer.css({marginTop:"auto",marginBottom:"auto",top:0,bottom:0})):this.$layer.css(this.verticalPosition,this.data.vertical):this.$layer.css(this.verticalPosition,0)},show:function(){if(this.isVisible!==!0){this.isVisible=!0,this.styled===!1&&this._setStyle();var a=this,c="undefined"!=typeof this.data.showOffset?this.data.showOffset:50,d="undefined"!=typeof this.data.showDuration?this.data.showDuration/1e3:.4,e="undefined"!=typeof this.data.showDelay?this.data.showDelay:10;if("always"===this.visibleOn||"msie"===f&&parseInt(g,10)<=7)this.$layer.css("display","block");else if("msie"===f&&parseInt(g,10)<=9)this.$layer.stop().delay(e).css({opacity:0,display:"block"}).animate({opacity:1},1e3*d);else{var h={opacity:0,display:"block"},i="";"left"===this.data.showTransition?i=c+"px, 0":"right"===this.data.showTransition?i="-"+c+"px, 0":"up"===this.data.showTransition?i="0, "+c+"px":"down"===this.data.showTransition&&(i="0, -"+c+"px"),h.transform="3d"===j.useTransforms()?"translate3d("+i+", 0)":"translate("+i+")";var k={opacity:1,transition:"all "+d+"s"};"undefined"!=typeof this.data.showTransition&&(k.transform="3d"===j.useTransforms()?"translate3d(0, 0, 0)":"translate(0, 0)"),this.$layer.on("transitionend webkitTransitionEnd oTransitionEnd msTransitionEnd",function(){a.$layer.off("transitionend webkitTransitionEnd oTransitionEnd msTransitionEnd"),a.$layer.css("transition","")}),this.$layer.css(h).delay(e).queue(function(){a.$layer.css(k),b(this).dequeue()})}}},hide:function(){if(this.isVisible!==!1){this.isVisible=!1;var a=this,c="undefined"!=typeof this.data.hideOffset?this.data.hideOffset:50,d="undefined"!=typeof this.data.hideDuration?this.data.hideDuration/1e3:.4,e="undefined"!=typeof this.data.hideDelay?this.data.hideDelay:10;if("always"===this.visibleOn||"msie"===f&&parseInt(g,10)<=7)this.$layer.css("display","none");else if("msie"===f&&parseInt(g,10)<=9)this.$layer.stop().delay(e).animate({opacity:0},1e3*d,function(){b(this).css({display:"none"})});else{var h={opacity:0,transition:"all "+d+"s"},i="";"left"===this.data.hideTransition?i="-"+c+"px, 0":"right"===this.data.hideTransition?i=c+"px, 0":"up"===this.data.hideTransition?i="0, -"+c+"px":"down"===this.data.hideTransition&&(i="0, "+c+"px"),h.transform="3d"===j.useTransforms()?"translate3d("+i+", 0)":"translate("+i+")",this.$layer.on("transitionend webkitTransitionEnd oTransitionEnd msTransitionEnd",function(){a.$layer.off("transitionend webkitTransitionEnd oTransitionEnd msTransitionEnd"),a.$layer.css("transition",""),a.isVisible===!1&&a.$layer.css("display","none")}),this.$layer.delay(e).queue(function(){a.$layer.css(h),b(this).dequeue()})}}},destroy:function(){this.$layer.attr("style","")}},b.GridAccordion.addModule("Layers",h,"panel");var j={checked:!1,transforms:"",useTransforms:function(){if(this.checked===!0)return this.transforms;this.checked=!0;var a=document.createElement("div");if(("undefined"!=typeof a.style.WebkitPerspective||"undefined"!=typeof a.style.perspective)&&(this.transforms="3d"),"3d"===this.transforms&&"undefined"!=typeof a.styleWebkitPerspective){var b=document.createElement("style");b.textContent="@media (transform-3d),(-webkit-transform-3d){#test-3d{left:9px;position:absolute;height:5px;margin:0;padding:0;border:0;}}",document.getElementsByTagName("head")[0].appendChild(b),a.id="test-3d",document.body.appendChild(a),(9!==a.offsetLeft||5!==a.offsetHeight)&&(this.transforms=""),b.parentNode.removeChild(b),a.parentNode.removeChild(a)}return""!==this.transforms||"undefined"==typeof a.style["-webkit-transform"]&&"undefined"==typeof a.style.transform||(this.transforms="2d"),this.transforms}}}(window,jQuery),function(a,b){"use strict";var c=b.GridAccordion.namespace,d={initLazyLoading:function(){this.on("update.LazyLoading."+c,b.proxy(this._checkImages,this)),this.on("pageScroll.LazyLoading."+c,b.proxy(this._checkImages,this))},_checkImages:function(){var a=this,c=this._getFirstPanelFromPage(),d=this._getLastPanelFromPage(),e=d!==this.getTotalPanels()-1?this.panels.slice(c,d+1):this.panels.slice(c);b.each(e,function(c,d){var e=d.$panel,f=d.getIndex();-1===a.currentIndex||-1!=b.inArray(f,a.loadingPanels)||f%a.columns!==a.currentIndex%a.columns&&Math.floor(f/a.columns)!==Math.floor(a.currentIndex/a.columns)||a.loadingPanels.push(f),"undefined"==typeof e.attr("data-loaded")&&(e.attr("data-loaded",!0),e.find("img").each(function(){var c=b(this);a._loadImage(c,d)}))})},_loadImage:function(a){if("undefined"!=typeof a.attr("data-src")){var c=b(new Image);c.attr("class",a.attr("class")),c.attr("style",a.attr("style")),b.each(a.data(),function(a,b){c.attr("data-"+a,b)}),"undefined"!=typeof a.attr("width")&&c.attr("width",a.attr("width")),"undefined"!=typeof a.attr("height")&&c.attr("height",a.attr("height")),c.insertAfter(a),a.remove(),c.attr("src",a.attr("data-src")),c.removeAttr("data-src")}},destroyLazyLoading:function(){this.off("update.LazyLoading."+c),this.off("pageScroll.LazyLoading."+c)}};b.GridAccordion.addModule("LazyLoading",d,"accordion")}(window,jQuery),function(a,b){"use strict";var c=b.GridAccordion.namespace,d={mouseWheelEventType:"",allowMouseWheelScroll:!0,initMouseWheel:function(){var a=this;b.extend(this.settings,this.mouseWheelDefaults,this.options),this.settings.mouseWheel!==!1&&("onwheel"in document?this.mouseWheelEventType="wheel":"onmousewheel"in document?this.mouseWheelEventType="mousewheel":"onDomMouseScroll"in document?this.mouseWheelEventType="DomMouseScroll":"onMozMousePixelScroll"in document&&(this.mouseWheelEventType="MozMousePixelScroll"),this.on(this.mouseWheelEventType+"."+c,function(b){b.preventDefault();var c,d=b.originalEvent;"undefined"!=typeof d.detail&&(c=d.detail),"undefined"!=typeof d.wheelDelta&&(c=d.wheelDelta),"undefined"!=typeof d.deltaY&&(c=-1*d.deltaY),a.allowMouseWheelScroll===!0&&Math.abs(c)>=a.settings.mouseWheelSensitivity&&(a.allowMouseWheelScroll=!1,setTimeout(function(){a.allowMouseWheelScroll=!0},500),c<=-a.settings.mouseWheelSensitivity?"page"===a.settings.mouseWheelTarget?a.nextPage():a.nextPanel():c>=a.settings.mouseWheelSensitivity&&("page"===a.settings.mouseWheelTarget?a.previousPage():a.previousPanel()))}))},destroyMouseWheel:function(){this.off(this.mouseWheelEventType+"."+c)},mouseWheelDefaults:{mouseWheel:!0,mouseWheelSensitivity:10,mouseWheelTarget:"panel"}};b.GridAccordion.addModule("MouseWheel",d,"accordion")}(window,jQuery),function(a,b){"use strict";var c=b.GridAccordion.namespace,d={initRetina:function(){this._isRetina()!==!1&&("undefined"!=typeof this._loadImage?this._loadImage=this._loadRetinaImage:this.on("update.Retina."+c,b.proxy(this._checkRetinaImages,this)))},_isRetina:function(){return a.devicePixelRatio>=2?!0:a.matchMedia&&a.matchMedia("(-webkit-min-device-pixel-ratio: 2),(min-resolution: 192dpi)").matches?!0:!1},_checkRetinaImages:function(){var a=this;this.off("update.Retina."+c),b.each(this.panels,function(c,d){var e=d.$panel,f=d.getIndex();-1===a.currentIndex||-1!=b.inArray(f,a.loadingPanels)||f%a.columns!==a.currentIndex%a.columns&&Math.floor(f/a.columns)!==Math.floor(a.currentIndex/a.columns)||a.loadingPanels.push(f),"undefined"==typeof e.attr("data-loaded")&&(e.attr("data-loaded",!0),e.find("img").each(function(){var c=b(this);a._loadRetinaImage(c,d)}))})},_loadRetinaImage:function(a){var c=!1,d="";if("undefined"!=typeof a.attr("data-retina")&&(c=!0,d=a.attr("data-retina"),a.removeAttr("data-retina")),"undefined"!=typeof a.attr("data-src")&&(c===!1&&(d=a.attr("data-src")),a.removeAttr("data-src")),""!==d){var e=b(new Image);e.attr("class",a.attr("class")),e.attr("style",a.attr("style")),b.each(a.data(),function(a,b){e.attr("data-"+a,b)}),"undefined"!=typeof a.attr("width")&&e.attr("width",a.attr("width")),"undefined"!=typeof a.attr("height")&&e.attr("height",a.attr("height")),e.insertAfter(a),a.remove(),e.attr("src",d)}},destroyRetina:function(){}};b.GridAccordion.addModule("Retina",d,"accordion")}(window,jQuery),function(a,b){"use strict";var c=b.GridAccordion.namespace;a.navigator.userAgent.toLowerCase();var d={initSmartVideo:function(){b.extend(this.settings,this.smartVideoDefaults,this.options),this._setupVideos()},_setupVideos:function(){var a=this;this.$accordion.find(".ga-video").each(function(){var c=b(this);c.videoController(),c.on("videoPlay.SmartVideo",function(){"stopAutoplay"===a.settings.playVideoAction&&"undefined"!=typeof a.stopAutoplay&&(a.stopAutoplay(),a.settings.autoplay=!1);var d={type:"videoPlay",video:c};a.trigger(d),b.isFunction(a.settings.videoPlay)&&a.settings.videoPlay.call(a,d)}),c.on("videoPause.SmartVideo",function(){"startAutoplay"===a.settings.pauseVideoAction&&"undefined"!=typeof a.startAutoplay&&(a.startAutoplay(),a.settings.autoplay=!0);var d={type:"videoPause",video:c};a.trigger(d),b.isFunction(a.settings.videoPause)&&a.settings.videoPause.call(a,d)}),c.on("videoEnded.SmartVideo",function(){"startAutoplay"===a.settings.endVideoAction&&"undefined"!=typeof a.startAutoplay?(a.startAutoplay(),a.settings.autoplay=!0):"nextPanel"===a.settings.endVideoAction?a.nextPanel():"replayVideo"===a.settings.endVideoAction&&c.videoController("replay");var d={type:"videoEnd",video:c};a.trigger(d),b.isFunction(a.settings.videoEnd)&&a.settings.videoEnd.call(a,d)})}),this.on("panelOpen.SmartVideo."+c,function(b){if(-1!==b.previousIndex&&0!==a.$panelsContainer.find(".ga-panel").eq(b.previousIndex).find(".ga-video").length){var c=a.$panelsContainer.find(".ga-panel").eq(b.previousIndex).find(".ga-video");"stopVideo"===a.settings.closePanelVideoAction?c.videoController("stop"):"pauseVideo"===a.settings.closePanelVideoAction&&c.videoController("pause")}if(0!==a.$panelsContainer.find(".ga-panel").eq(b.index).find(".ga-video").length){var d=a.$panelsContainer.find(".ga-panel").eq(b.index).find(".ga-video");"playVideo"===a.settings.openPanelVideoAction&&d.videoController("play")}}),this.on("panelsClose.SmartVideo."+c,function(b){if(-1!==b.previousIndex&&0!==a.$panelsContainer.find(".ga-panel").eq(b.previousIndex).find(".ga-video").length){var c=a.$panelsContainer.find(".ga-panel").eq(b.previousIndex).find(".ga-video");"stopVideo"===a.settings.closePanelVideoAction?c.videoController("stop"):"pauseVideo"===a.settings.closePanelVideoAction&&c.videoController("pause")}})},destroySmartVideo:function(){this.$accordion.find(".ga-video").each(function(){var a=b(this);a.off("SmartVideo"),b(this).videoController("destroy")}),this.off("panelOpen.SmartVideo."+c),this.off("panelsClose.SmartVideo."+c)},smartVideoDefaults:{openPanelVideoAction:"playVideo",closePanelVideoAction:"pauseVideo",playVideoAction:"stopAutoplay",pauseVideoAction:"none",endVideoAction:"none",videoPlay:function(){},videoPause:function(){},videoEnd:function(){}}};b.GridAccordion.addModule("SmartVideo",d,"accordion")}(window,jQuery),function(a){"use strict";var b=window.navigator.userAgent.toLowerCase(),c=null!==b.match(/ipad/i)||null!==b.match(/ipod/i)||null!==b.match(/iphone/i),d=function(b,c){this.$video=a(b),this.options=c,this.settings={},this.player=null,this._init()};d.prototype={_init:function(){this.settings=a.extend({},this.defaults,this.options);var b=this,c=a.VideoController.players,d=this.$video.attr("id");for(var e in c)if("undefined"!=typeof c[e]&&c[e].isType(this.$video)){this.player=new c[e](this.$video);break}if(null!==this.player){var f=["ready","start","play","pause","ended"];a.each(f,function(c,e){var f="video"+e.charAt(0).toUpperCase()+e.slice(1);b.player.on(e,function(){b.trigger({type:f,video:d}),a.isFunction(b.settings[f])&&b.settings[f].call(b,{type:f,video:d})})})}},play:function(){c===!0&&this.player.isStarted()===!1||"playing"===this.player.getState()||this.player.play()},stop:function(){c===!0&&this.player.isStarted()===!1||"stopped"===this.player.getState()||this.player.stop()},pause:function(){c===!0&&this.player.isStarted()===!1||"paused"===this.player.getState()||this.player.pause()},replay:function(){(c!==!0||this.player.isStarted()!==!1)&&this.player.replay()},on:function(a,b){return this.$video.on(a,b)},off:function(a){return this.$video.off(a)},trigger:function(a){return this.$video.triggerHandler(a)},destroy:function(){this.player.isStarted()===!0&&this.stop(),this.player.off("ready"),this.player.off("start"),this.player.off("play"),this.player.off("pause"),this.player.off("ended")},defaults:{videoReady:function(){},videoStart:function(){},videoPlay:function(){},videoPause:function(){},videoEnded:function(){}}},a.VideoController={players:{},addPlayer:function(a,b){this.players[a]=b}},a.fn.videoController=function(b){var c=Array.prototype.slice.call(arguments,1);return this.each(function(){if("undefined"==typeof a(this).data("videoController")){var e=new d(this,b);a(this).data("videoController",e)}else if("undefined"!=typeof b){var f=a(this).data("videoController");"function"==typeof f[b]?f[b].apply(f,c):a.error(b+" does not exist in videoController.")}})};var e=function(b){this.$video=b,this.player=null,this.ready=!1,this.started=!1,this.state="",this.events=a({}),this._init()};e.prototype={_init:function(){},play:function(){},pause:function(){},stop:function(){},replay:function(){},isType:function(){},isReady:function(){return this.ready},isStarted:function(){return this.started},getState:function(){return this.state},on:function(a,b){return this.events.on(a,b)},off:function(a){return this.events.off(a)},trigger:function(a){return this.events.triggerHandler(a)}};var f={youtubeAPIAdded:!1,youtubeVideos:[]},g=function(b){this.init=!1;var c=window.YT&&window.YT.Player;if("undefined"!=typeof c)e.call(this,b);else if(f.youtubeVideos.push({video:b,scope:this}),f.youtubeAPIAdded===!1){f.youtubeAPIAdded=!0;var d=document.createElement("script");d.src="http://www.youtube.com/player_api";var g=document.getElementsByTagName("script")[0];g.parentNode.insertBefore(d,g),window.onYouTubePlayerAPIReady=function(){a.each(f.youtubeVideos,function(a,b){e.call(b.scope,b.video)})}}};g.prototype=new e,g.prototype.constructor=g,a.VideoController.addPlayer("YoutubeVideo",g),g.isType=function(a){if(a.is("iframe")){var b=a.attr("src");if(-1!==b.indexOf("youtube.com")||-1!==b.indexOf("youtu.be"))return!0}return!1},g.prototype._init=function(){this.init=!0,this._setup()},g.prototype._setup=function(){var a=this;this.player=new YT.Player(this.$video[0],{events:{onReady:function(){a.trigger({type:"ready"}),a.ready=!0},onStateChange:function(b){switch(b.data){case YT.PlayerState.PLAYING:a.started===!1&&(a.started=!0,a.trigger({type:"start"})),a.state="playing",a.trigger({type:"play"});break;case YT.PlayerState.PAUSED:a.state="paused",a.trigger({type:"pause"});break;case YT.PlayerState.ENDED:a.state="ended",a.trigger({type:"ended"})}}}})},g.prototype.play=function(){this.player.playVideo()},g.prototype.pause=function(){c===!0?this.stop():this.player.pauseVideo()},g.prototype.stop=function(){this.player.seekTo(1),this.player.stopVideo(),this.state="stopped"},g.prototype.replay=function(){this.player.seekTo(1),this.player.playVideo()},g.prototype.on=function(a,b){var c=this;if(this.init===!0)e.prototype.on.call(this,a,b);else var d=setInterval(function(){c.init===!0&&(clearInterval(d),e.prototype.on.call(c,a,b))},100)};var h={vimeoAPIAdded:!1,vimeoVideos:[]},i=function(b){if(this.init=!1,"undefined"!=typeof window.Froogaloop)e.call(this,b);else if(h.vimeoVideos.push({video:b,scope:this}),h.vimeoAPIAdded===!1){h.vimeoAPIAdded=!0;var c=document.createElement("script");c.src="http://a.vimeocdn.com/js/froogaloop2.min.js";var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(c,d);var f=setInterval(function(){"undefined"!=typeof window.Froogaloop&&(clearInterval(f),a.each(h.vimeoVideos,function(a,b){e.call(b.scope,b.video)}))},100)}};i.prototype=new e,i.prototype.constructor=i,a.VideoController.addPlayer("VimeoVideo",i),i.isType=function(a){if(a.is("iframe")){var b=a.attr("src");if(-1!==b.indexOf("vimeo.com"))return!0}return!1},i.prototype._init=function(){this.init=!0,this._setup()},i.prototype._setup=function(){var a=this;this.player=$f(this.$video[0]),this.player.addEvent("ready",function(){a.ready=!0,a.trigger({type:"ready"}),a.player.addEvent("play",function(){a.started===!1&&(a.started=!0,a.trigger({type:"start"})),a.state="playing",a.trigger({type:"play"})}),a.player.addEvent("pause",function(){a.state="paused",a.trigger({type:"pause"})}),a.player.addEvent("finish",function(){a.state="ended",a.trigger({type:"ended"})})})},i.prototype.play=function(){this.player.api("play")},i.prototype.pause=function(){this.player.api("pause")},i.prototype.stop=function(){this.player.api("seekTo",0),this.player.api("pause"),this.state="stopped"},i.prototype.replay=function(){this.player.api("seekTo",0),this.player.api("play")},i.prototype.on=function(a,b){var c=this;if(this.init===!0)e.prototype.on.call(this,a,b);else var d=setInterval(function(){c.init===!0&&(clearInterval(d),e.prototype.on.call(c,a,b))},100)};var j=function(a){e.call(this,a)};j.prototype=new e,j.prototype.constructor=j,a.VideoController.addPlayer("HTML5Video",j),j.isType=function(a){return a.is("video")&&a.hasClass("video-js")===!1&&a.hasClass("sublime")===!1?!0:!1},j.prototype._init=function(){var a=this;this.player=this.$video[0],this.ready=!0,this.player.addEventListener("play",function(){a.started===!1&&(a.started=!0,a.trigger({type:"start"})),a.state="playing",a.trigger({type:"play"})}),this.player.addEventListener("pause",function(){a.state="paused",a.trigger({type:"pause"})}),this.player.addEventListener("ended",function(){a.state="ended",a.trigger({type:"ended"})})},j.prototype.play=function(){this.player.play()},j.prototype.pause=function(){this.player.pause()},j.prototype.stop=function(){this.player.currentTime=0,this.player.pause(),this.state="stopped"},j.prototype.replay=function(){this.player.currentTime=0,this.player.play()};var k=function(a){e.call(this,a)};k.prototype=new e,k.prototype.constructor=k,a.VideoController.addPlayer("VideoJSVideo",k),k.isType=function(a){return"undefined"==typeof a.attr("data-videojs-id")&&!a.hasClass("video-js")||"undefined"==typeof videojs?!1:!0},k.prototype._init=function(){var a=this,b=this.$video.hasClass("video-js")?this.$video.attr("id"):this.$video.attr("data-videojs-id");this.player=videojs(b),this.player.ready(function(){a.ready=!0,a.trigger({type:"ready"}),a.player.on("play",function(){a.started===!1&&(a.started=!0,a.trigger({type:"start"})),a.state="playing",a.trigger({type:"play"})}),a.player.on("pause",function(){a.state="paused",a.trigger({type:"pause"})}),a.player.on("ended",function(){a.state="ended",a.trigger({type:"ended"})})})},k.prototype.play=function(){this.player.play()},k.prototype.pause=function(){this.player.pause()},k.prototype.stop=function(){this.player.currentTime(0),this.player.pause(),this.state="stopped"},k.prototype.replay=function(){this.player.currentTime(0),this.player.play()};var l=function(a){e.call(this,a)};l.prototype=new e,l.prototype.constructor=l,a.VideoController.addPlayer("SublimeVideo",l),l.isType=function(a){return a.hasClass("sublime")&&"undefined"!=typeof sublime?!0:!1},l.prototype._init=function(){var a=this;sublime.ready(function(){a.player=sublime.player(a.$video.attr("id")),a.ready=!0,a.trigger({type:"ready"}),a.player.on("play",function(){a.started===!1&&(a.started=!0,a.trigger({type:"start"})),a.state="playing",a.trigger({type:"play"})}),a.player.on("pause",function(){a.state="paused",a.trigger({type:"pause"})}),a.player.on("stop",function(){a.state="stopped",a.trigger({type:"stop"})}),a.player.on("end",function(){a.state="ended",a.trigger({type:"ended"})})})},l.prototype.play=function(){this.player.play()},l.prototype.pause=function(){this.player.pause()},l.prototype.stop=function(){this.player.stop()},l.prototype.replay=function(){this.player.stop(),this.player.play()};var m=function(a){e.call(this,a)};m.prototype=new e,m.prototype.constructor=m,a.VideoController.addPlayer("JWPlayerVideo",m),m.isType=function(a){return"undefined"==typeof a.attr("data-jwplayer-id")&&!a.hasClass("jwplayer")&&0===a.find("object[data*='jwplayer']").length||"undefined"==typeof jwplayer?!1:!0},m.prototype._init=function(){var a,b=this;this.$video.hasClass("jwplayer")?a=this.$video.attr("id"):"undefined"!=typeof this.$video.attr("data-jwplayer-id")?a=this.$video.attr("data-jwplayer-id"):0!==this.$video.find("object[data*='jwplayer']").length&&(a=this.$video.find("object").attr("id")),this.player=jwplayer(a),this.player.onReady(function(){b.ready=!0,b.trigger({type:"ready"}),b.player.onPlay(function(){b.started===!1&&(b.started=!0,b.trigger({type:"start"})),b.state="playing",b.trigger({type:"play"})}),b.player.onPause(function(){b.state="paused",b.trigger({type:"pause"})}),b.player.onComplete(function(){b.state="ended",b.trigger({type:"ended"})})})},m.prototype.play=function(){this.player.play(!0)},m.prototype.pause=function(){this.player.pause(!0)},m.prototype.stop=function(){this.player.stop(),this.state="stopped"},m.prototype.replay=function(){this.player.seek(0),this.player.play(!0)}}(jQuery),function(a,b){"use strict";var c=b.GridAccordion.namespace,d={cssTransitions:null,cssTransitionEndEvents:"transitionend webkitTransitionEnd oTransitionEnd msTransitionEnd",checkCSSTransitions:function(){if(null!==this.cssTransitions)return this.cssTransitions;var a=document.body||document.documentElement,b=a.style;return this.cssTransitions="undefined"!=typeof b.transition||"undefined"!=typeof b.WebkitTransition||"undefined"!=typeof b.MozTransition||"undefined"!=typeof b.OTransition?!0:!1,this.cssTransitions}},e={initSwapBackground:function(){var a=this;b.extend(this.settings,this.swapBackgroundDefaults,this.options),this.on("panelOpen.SwapBackground."+c,function(b){var c=a.getPanelAt(b.index),d=c.$panel.find(".ga-background"),e=c.$panel.find(".ga-background-opened");if(0!==e.length&&(e.css({visibility:"visible",opacity:0}),a._fadeInBackground(e),0!==d.length&&a.settings.fadeOutBackground===!0&&a._fadeOutBackground(d)),-1!==b.previousIndex){var f=a.getPanelAt(b.previousIndex),g=f.$panel.find(".ga-background"),h=f.$panel.find(".ga-background-opened");0!==h.length&&(a._fadeOutBackground(h),0!==g.length&&a.settings.fadeOutBackground===!0&&a._fadeInBackground(g))}}),this.on("panelsClose.SwapBackground."+c,function(b){if(-1!==b.previousIndex){var c=a.getPanelAt(b.previousIndex),d=c.$panel.find(".ga-background"),e=c.$panel.find(".ga-background-opened");0!==e.length&&(a._fadeOutBackground(e),0!==d.length&&a.settings.fadeOutBackground===!0&&a._fadeInBackground(d))}})},_fadeInBackground:function(a){var b=this.settings.swapBackgroundDuration;d.checkCSSTransitions()===!0?(a.off(d.cssTransitionEndEvents).on(d.cssTransitionEndEvents,function(){a.off(d.cssTransitionEndEvents),a.css({transition:""})}),setTimeout(function(){a.css({opacity:1,transition:"all "+b/1e3+"s"})
},100)):a.stop().animate({opacity:1},b)},_fadeOutBackground:function(a){var b=this.settings.swapBackgroundDuration;d.checkCSSTransitions()===!0?(a.off(d.cssTransitionEndEvents).on(d.cssTransitionEndEvents,function(){a.off(d.cssTransitionEndEvents),a.css({visibility:"hidden",transition:""})}),setTimeout(function(){a.css({opacity:0,transition:"all "+b/1e3+"s"})},100)):a.stop().animate({opacity:0},b,function(){a.css({visibility:"hidden"})})},destroySwapBackground:function(){this.off("panelOpen.SwapBackground."+c),this.off("panelsClose.SwapBackground."+c)},swapBackgroundDefaults:{swapBackgroundDuration:700,fadeOutBackground:!1}};b.GridAccordion.addModule("SwapBackground",e,"accordion")}(window,jQuery),function(a,b){"use strict";var c=b.GridAccordion.namespace,d={isTouchSupport:!1,touchStartPoint:{x:0,y:0},touchEndPoint:{x:0,y:0},touchDistance:{x:0,y:0},touchStartPosition:0,isTouchMoving:!1,initTouchSwipe:function(){var d=this;if(b.extend(this.settings,this.touchSwipeDefaults,this.options),this.settings.touchSwipe!==!1){this.isTouchSupport="ontouchstart"in a;var e=this.isTouchSupport?"touchstart":"mousedown";this.$panelsContainer.on(e+"."+c,b.proxy(this._onTouchStart,this)),this.on("update.TouchSwipe."+c,function(){d.isTouchSupport&&b.each(d.panels,function(a,b){var d=b;d.off("panelMouseOver."+c),d.off("panelMouseOut."+c),d.off("panelClick."+c)}),d.getTotalPages()>1?d.$panelsContainer.addClass("ga-grab"):d.$panelsContainer.removeClass("ga-grab")})}},_onTouchStart:function(a){if(!(b(a.target).closest(".selectable").length>=1||this.isTouchSupport===!1&&1===this.getTotalPages())){this.isTouchSupport===!1&&a.preventDefault();var d=this.isTouchSupport?a.originalEvent.touches[0]:a.originalEvent,e=this.isTouchSupport?"touchmove":"mousemove",f=this.isTouchSupport?"touchend":"mouseup";this.touchStartPoint.x=d.pageX,this.touchStartPoint.y=d.pageY,this.touchStartPosition=parseInt(this.$panelsContainer.css(this.positionProperty),10),this.touchDistance.x=this.touchDistance.y=0,this.$panelsContainer.on(e+"."+c,b.proxy(this._onTouchMove,this)),b(document).on(f+"."+this.uniqueId+"."+c,b.proxy(this._onTouchEnd,this)),this.$panelsContainer.removeClass("ga-grab").addClass("ga-grabbing"),b(a.target).parents(".ga-panel").find("a").addClass("ga-swiping").one("click.TouchSwipe",function(a){a.preventDefault()})}},_onTouchMove:function(a){var b=this.isTouchSupport?a.originalEvent.touches[0]:a.originalEvent;this.isTouchMoving=!0,this.touchEndPoint.x=b.pageX,this.touchEndPoint.y=b.pageY,this.touchDistance.x=this.touchEndPoint.x-this.touchStartPoint.x,this.touchDistance.y=this.touchEndPoint.y-this.touchStartPoint.y;var c="horizontal"===this.settings.orientation?this.touchDistance.x:this.touchDistance.y,d="horizontal"===this.settings.orientation?this.touchDistance.y:this.touchDistance.x;if(Math.abs(c)>Math.abs(d)){a.preventDefault();var e=parseInt(this.$panelsContainer.css(this.positionProperty),10),f="horizontal"===this.settings.orientation?-this.totalPanelsSize+this.totalWidth:-this.totalPanelsSize+this.totalHeight;(e>=0&&0===this.currentPage||f>=e&&this.currentPage===this.getTotalPages()-1)&&(c=.2*c),this.$panelsContainer.css(this.positionProperty,this.touchStartPosition+c)}},_onTouchEnd:function(a){var d=this.isTouchSupport?"touchmove":"mousemove",e=this.isTouchSupport?"touchend":"mouseup";if(this.$panelsContainer.off(d+"."+c),b(document).off(e+"."+this.uniqueId+"."+c),this.$panelsContainer.removeClass("ga-grabbing").addClass("ga-grab"),this.isTouchSupport===!0&&(this.isTouchMoving===!1||this.isTouchMoving===!0&&Math.abs(this.touchDistance.x)<10&&Math.abs(this.touchDistance.y)<10)){var f=b(a.target).parents(".ga-panel").index();return f!==this.currentIndex&&-1!==f?this.openPanel(f):b(a.target).parents(".ga-panel").find("a").removeClass("ga-swiping").off("click.TouchSwipe"),void 0}if(this.isTouchMoving===!1)return b(a.target).parents(".ga-panel").find("a").removeClass("ga-swiping").off("click.TouchSwipe"),void 0;this.isTouchMoving=!1,setTimeout(function(){b(a.target).parents(".ga-panel").find("a").removeClass("ga-swiping")},1);var g={};g[this.positionProperty]=this.touchStartPosition,"horizontal"===this.settings.orientation?this.touchDistance.x>this.settings.touchSwipeThreshold?this.currentPage>0?this.previousPage():this.$panelsContainer.stop().animate(g,300):-this.touchDistance.x>this.settings.touchSwipeThreshold?this.currentPage<this.getTotalPages()-1?this.nextPage():this.gotoPage(this.currentPage):Math.abs(this.touchDistance.x)<this.settings.touchSwipeThreshold&&this.$panelsContainer.stop().animate(g,300):"vertical"===this.settings.orientation&&(this.touchDistance.y>this.settings.touchSwipeThreshold?this.currentPage>0?this.previousPage():this.$panelsContainer.stop().animate(g,300):-this.touchDistance.y>this.settings.touchSwipeThreshold?this.currentPage<this.getTotalPages()-1?this.nextPage():this.$panelsContainer.animate(g,300):Math.abs(this.touchDistance.y)<this.settings.touchSwipeThreshold&&this.$panelsContainer.stop().animate(g,300))},destroyTouchSwipe:function(){var a=this.isTouchSupport?"touchstart":"mousedown",d=this.isTouchSupport?"touchend":"mouseup",e=this.isTouchSupport?"touchmove":"mousemove";this.$panelsContainer.off(a+"."+c),b(document).off(d+"."+this.uniqueId+"."+c),this.$panelsContainer.off(e+"."+c),this.off("update.TouchSwipe."+c)},touchSwipeDefaults:{touchSwipe:!0,touchSwipeThreshold:50}};b.GridAccordion.addModule("TouchSwipe",d,"accordion")}(window,jQuery),function(a,b){"use strict";var c=b.GridAccordion.namespace,d=a.navigator.userAgent.toLowerCase(),e=/(msie) ([\w.]+)/,f=e.exec(d)||[],g=f[1],h={XMLDataAttributesMap:{width:"data-width",height:"data-height",depth:"data-depth",position:"data-position",horizontal:"data-horizontal",vertical:"data-vertical",showTransition:"data-show-transition",showOffset:"data-show-offset",showDelay:"data-show-delay",showDuration:"data-show-duration",showEasing:"data-show-easing",hideTransition:"data-hide-transition",hideOffset:"data-",hideDelay:"data-hide-delay",hideDuration:"data-hide-duration",hideEasing:"data-hide-easing"},initXML:function(){b.extend(this.settings,this.XMLDefaults,this.options),null!==this.settings.XMLSource&&this.updateXML()},updateXML:function(){var a=this;this.removePanels(),this.$panelsContainer.empty(),this.off("XMLReady."+c),this.on("XMLReady."+c,function(c){var d=b(c.xmlData),e=d.find("accordion")[0].attributes.lazyLoading;"undefined"!=typeof e&&(e=e.nodeValue),d.find("panel").each(function(){var c,d,f=b(this),g=f.find("background"),h=f.find("backgroundRetina"),i=f.find("backgroundLink"),j=f.find("backgroundOpened"),k=f.find("backgroundOpenedRetina"),l=f.find("backgroundOpenedLink"),m=f.find("layer"),n=b('<div class="ga-panel"></div>').appendTo(a.$panelsContainer);if(i.length>=1&&(c=b('<a href="'+i.text()+'"></a>'),b.each(i[0].attributes,function(a,b){c.attr(b.nodeName,b.nodeValue)}),c.appendTo(n)),g.length>=1){var o=b('<img class="ga-background"/>');"undefined"!=typeof e?o.attr({src:e,"data-src":g.text()}):o.attr({src:g.text()}),h.length>=1&&o.attr({"data-retina":h.text()}),b.each(g[0].attributes,function(a,b){o.attr(b.nodeName,b.nodeValue)}),o.appendTo(i.length?c:n)}if(l.length>=1&&(d=b('<a href="'+l.text()+'"></a>'),b.each(l[0].attributes,function(a,b){d.attr(b.nodeName,b.nodeValue)}),d.appendTo(n)),j.length>=1){var p=b('<img class="ga-background-opened"/>');"undefined"!=typeof e?p.attr({src:e,"data-src":j.text()}):p.attr({src:j.text()}),k.length>=1&&p.attr({"data-retina":k.text()}),b.each(j[0].attributes,function(a,b){p.attr(b.nodeName,b.nodeValue)}),p.appendTo(l.length?d:n)}m.length>=1&&b.each(m,function(){var c=b(this),d="",e="",f=n;b.each(c[0].attributes,function(c,f){if("style"===f.nodeName){var g=f.nodeValue.split(" ");b.each(g,function(a,b){d+=" ga-"+b})}else e+=" "+a.XMLDataAttributesMap[f.nodeName]+'="'+f.nodeValue+'"'});var g=b('<div class="ga-layer'+d+'"'+e+'"></div>');if(c.find("layer").length>=1){var h=(new Date).valueOf();c.attr("parentID",h),g.attr("class",g.attr("class")+" "+h)}else g.html(c.text());c.parent().is("layer")&&(f=n.find("."+c.parent().attr("parentID"))),g.appendTo(f)})}),a.update()}),this._loadXML()},_loadXML:function(){var a=this;if(".xml"===this.settings.XMLSource.slice(-4))b.ajax({type:"GET",url:this.settings.XMLSource,dataType:"msie"===g?"text":"xml",success:function(b){var d;"msie"===g?(d=new ActiveXObject("Microsoft.XMLDOM"),d.async=!1,d.loadXML(b)):d=b,a.trigger({type:"XMLReady."+c,xmlData:d})}});else{var d=b.parseXML(this.settings.XMLSource);a.trigger({type:"XMLReady."+c,xmlData:d})}},destroyXML:function(){this.off("XMLReady."+c)},XMLDefaults:{XMLSource:null}};b.GridAccordion.addModule("XML",h,"accordion")}(window,jQuery);